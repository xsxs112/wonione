<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="layout/default">

<th:block layout:fragment="customTitle">
	<title>휴가신청</title>
</th:block>


<!-- css---------------------------------------- -->
<th:block layout:fragment="customCss">
	<script type="text/javascript">
		$(function() {
			
			$('.request').click(function() {
				var reCode = $(this).attr('data-mCode');
	         	window.location.href='/holiRequest?reCode='+reCode;
			})
			

			$('.detail').click(function() {
				var reCode = $(this).attr('data-mCode');
				alert(reCode);
	            window.location.href='/detail?reCode='+reCode;
			})
					
		})
		
	</script>

</th:block>

<!-- 본문----------------------------------------- -->
<th:block layout:fragment="customContent">

	<div class="static-table-area">
		<div class="container-fluid">

			<p style="color: gray;">
			달력으로 만들고 싶은데..
			<p>
				<input type="hidden" name="mrName" th:value="${session.SNAME}">
				<input type="hidden" name="mrId" th:value="${session.SID}">
				<table style="text-align: center;">
					<tr>
						<td style="font-size:30px; font-weight:1000;" colspan="3">
						<a th:data-mCode="${session.SID}" class ="request">휴가 신청[클릭]</a>
						</td>
					</tr>
				</table>

			<br>

			<div class="sparkline8-list">
				<div class="sparkline8-hd">
					<div class="main-sparkline8-hd">
						<h1>휴가신청 목록</h1>
					</div>
				</div>
				<div class="sparkline8-graph">
					<div class="static-table-list">
						<table class="table" style="text-align: center;">
							<thead>
								<tr>
									<th style="text-align: center;">신청 날짜</th>
									<th style="text-align: center;">이름</th>
									<th style="text-align: center;" colspan="3">휴가 기간</th>
									<th style="text-align: center;">사유</th>
									<th style="text-align: center;">상태</th>
									<th style="text-align: center;">상세보기</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="l: ${holidayList}">
									<td th:text="${l.reDate}"></td>
									<td th:text="${l.mrId}"></td>
									<td th:text="${l.reStartDate}"></td>
									<td>~</td>
									<td th:text="${l.reEndDate}"></td>
									<td th:text="${l.reReason}"></td>
									<td th:text="${l.reState}"></td>
									<td><a th:data-mCode="${l.reCode}" class ="detail">상세보기</a></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
</th:block>



<!-- 스크립트 -------------------------------------------->
<th:block layout:fragment="customJsScript">
	<div th:replace="fragments/js :: jsFragment"></div>

</th:block>

<!-- js	 ------------------------------------------------>
<th:block layout:fragment="customJs">

</th:block>
</html>