<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="cafe24.wio.mapper.ScholarshipMapper">

<resultMap type="ScholarShip" id="ScholarShipResultMap">
		<result column="pm_info_code" 		property="pmInfoCode"/>
		<result column="award_bm_code" 		property="awardBmCode"/>
		<result column="mr_id" 				property="mrId"/>
		<result column="pm_info_Payer" 		property="pmInfoPayer"/>
		<result column="pm_info_reg_date" 	property="pmInfoRegDate"/>
		<result column="mr_name" 			property="mrName"/>
		<result column="award_bm_price" 	property="awardBmPrice"/>	
</resultMap>

<select id="getScholarList" parameterType="ScholarShip" resultMap="ScholarShipResultMap">
	
	SELECT 
		  wt_payments_information.pm_info_code
		, wt_award_benchmark.award_bm_price 
		, r1.mr_name
		, r2.mr_name
		,  wt_payments_information.pm_info_reg_date
	FROM 
		wt_payments_information 
	inner join
		wt_award_benchmark 
	on
		wt_payments_information.award_bm_code =wt_award_benchmark.award_bm_code 
	LEFT JOIN 
		wt_member_registration AS r1
	ON 
		wt_payments_information.mr_id = r1.mr_id
	LEFT JOIN 
		wt_member_registration AS r2
	ON 
		wt_payments_information.pm_info_Payer = r2.mr_id;		
		
</select>


</mapper>  
    